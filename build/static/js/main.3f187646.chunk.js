(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(34),i=a(35),c=a(46),l=a(36),o=a(17),r=a(45),s=a(0),d=a.n(s),u=a(9),h=a.n(u),m=(a(85),a(175)),p=a(163),f=a(71),b=a.n(f),g=a(166),E=a(167),v=a(168),C=a(177),T=a(176),S=a(169),k=a(170),y=a(54),F=a.n(y),N=a(173),j=a(165),q=a(21),O=(a(108),a(78)),I=a(53),x=a.n(I);a(109),a(110),a(111),a(113),a(115),a(65);function J(e){var t=e.topics,a=(t=t.slice(0,4)).map(function(e,t){return d.a.createElement(p.a,{key:e.nameTopic+t,label:e.nameTopic,value:t})});return d.a.createElement(m.a,{value:e.selectedTopic,indicatorColor:"primary",onChange:e.handleChangeTabTopic,variant:"fullWidth"},a,e.topics.length<4&&d.a.createElement(j.a,{id:"addTopicButton",color:"primary",size:"small",variant:"contained",onClick:function(t){e.addField("topic",t)}}," ",d.a.createElement(x.a,null)," "))}function w(e){var t=e.topics,a=(t=t.slice(0,4)).map(function(a,n){return d.a.createElement("div",{className:"tabTopic",key:a+n},d.a.createElement(g.a,{className:"topicInput"},d.a.createElement(E.a,null,d.a.createElement("center",null,d.a.createElement("h4",null,a.nameTopic))),d.a.createElement(v.a,null,d.a.createElement("div",{className:"TopicName"},d.a.createElement("div",{className:"inputTopicWrapper"},d.a.createElement(N.a,{className:"inputTopic",label:"Nom",onChange:function(t){e.handleChange(t.target.value,[n,"topic","name"])},value:a.nameTopic}),d.a.createElement(N.a,{className:"inputTopic",label:"ic\xf4ne",onChange:function(t){e.handleChange(t.target.value,[n,"topic","icon"])},value:a.icon})),d.a.createElement("div",null,d.a.createElement(j.a,{color:"primary",onClick:function(t){e.addField("subTopic",n)},size:"small"},"Ajouter un sous-topic "),d.a.createElement(j.a,{color:"secondary",onClick:function(t){e.removeField("topic",n)},size:"small"},"Supprimer"))))),d.a.createElement("div",{className:"topicContent"},d.a.cloneElement(e.children,{topics:t[n],idx:n})))});return d.a.createElement(b.a,{axis:"x",index:e.selectedTopic,onChangeIndex:e.handleChangeTabTopic},a)}function A(e){var t=e.topics.content.map(function(t,a){return d.a.createElement(C.a,{key:a},d.a.createElement(T.a,{className:"sousTopic",expandIcon:d.a.createElement(F.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},d.a.createElement("h3",null,t.nameSubTopic)),d.a.createElement(S.a,{className:"subTopicFields"},d.a.createElement(N.a,{label:"Nom du sous-topic",onChange:function(t){e.handleChange(t.target.value,[e.idx,"subtopic",a])},fullWidth:!0,rows:"12",value:t.nameSubTopic}),d.a.cloneElement(e.children,{data:t.content,topic:e.idx,subTopic:a})),d.a.createElement(k.a,null,d.a.createElement(j.a,{color:"primary",onClick:function(t){e.addField("question",e.idx,a)},size:"small"},"Ajouter une question "),d.a.createElement(j.a,{color:"secondary",onClick:function(t){e.removeField("subTopic",e.idx,a)},size:"small"},"Supprimer")))});return d.a.createElement("div",null,t)}function M(e){var t=e.data.map(function(t,a){return d.a.createElement(C.a,{key:a},d.a.createElement(T.a,{expandIcon:d.a.createElement(F.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},d.a.createElement("h4",null,t.question)),d.a.createElement(S.a,{className:"qAndAFields"},d.a.createElement(N.a,{label:"Question",fullWidth:!0,rows:"12",value:t.question,onChange:function(t){e.handleChange(t.target.value,[e.topic,e.subTopic,"question",a])}}),d.a.createElement("p",null,"R\xe9ponse:"),d.a.createElement(O.a,{inline:!0,className:"tiny",init:{plugins:"link image code"},initialValue:t.response,onChange:function(t){e.handleChange(t.level.content,[e.topic,e.subTopic,"response",a])}})),d.a.createElement(k.a,null,d.a.createElement(j.a,{color:"secondary",onClick:function(t){e.removeField("question",e.topic,e.subTopic,a)},size:"small"},"Supprimer")))});return d.a.createElement("div",{className:"qAndAWrappers"},t)}var z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleChangeSubtopic=function(e){return function(e,t){return!!t}},a.state={lang:"fr",selectedTopic:0,expanded:!1,data:[],change:!1},a.handleChangeTabTopic=a.handleChangeTabTopic.bind(Object(o.a)(a)),a.handleChangeSubtopic=a.handleChangeSubtopic.bind(Object(o.a)(a)),a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(o.a)(a)),a.handleCancel=a.handleCancel.bind(Object(o.a)(a)),a.addField=a.addField.bind(Object(o.a)(a)),a.removeField=a.removeField.bind(Object(o.a)(a)),a.initData=a.initData.bind(Object(o.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"handleChangeTabTopic",value:function(e,t){this.setState({selectedTopic:t})}},{key:"addField",value:function(e,t,a){"topic"===e&&this.setState(function(e){return{data:e.data.updateIn([0,"fr"],function(e){return e.push(q.a.fromJS({content:[{nameSubTopic:"",content:[{namequestion:"",question:"",response:""}]}],icon:"",idTopic:"",nameTopic:"TopicName"}))})}}),"subTopic"===e&&(console.log(this.state.data.getIn([0,"fr",t,"content"])),this.setState(function(e){return{data:e.data.updateIn([0,"fr",t,"content"],function(e){return e.push(q.a.fromJS({nameSubTopic:"",content:[{namequestion:"",question:"",response:""}]}))})}})),"question"===e&&this.setState(function(e){return{data:e.data.updateIn([0,"fr",t,"content",a,"content"],function(e){return e.push(q.a.fromJS({namequestion:"",question:"",response:""}))})}})}},{key:"removeField",value:function(e,t,a,n){"topic"===e&&(this.state.selectedTopic>this.state.data.toJS()[0][this.state.lang].length-2?this.setState(function(e){var a=e.data;return{selectedTopic:t-1,data:a.deleteIn([0,"fr",t])}}):this.setState(function(e){return{data:e.data.deleteIn([0,"fr",t])}})),"subTopic"===e&&this.setState(function(e){return{data:e.data.deleteIn([0,"fr",t,"content",a])}}),"question"===e&&this.setState(function(e){return{data:e.data.deleteIn([0,"fr",t,"content",a,"content",n])}})}},{key:"handleChange",value:function(e,t){"topic"===t[1]?"name"===t[2]?this.setState(function(a){return{data:a.data.updateIn([0,"fr",t[0],"nameTopic"],function(t){return e})}}):"icon"===t[2]&&this.setState(function(a){return{data:a.data.updateIn([0,"fr",t[0],"icon"],function(t){return e})}}):"subtopic"===t[1]?this.setState(function(a){return{data:a.data.updateIn([0,"fr",t[0],"content",t[2],"nameSubTopic"],function(t){return e})}}):"question"===t[2]?this.setState(function(a){return{data:a.data.updateIn([0,"fr",t[0],"content",t[1],"content",t[3],"question"],function(t){return e})}}):"response"===t[2]&&this.setState(function(a){return{data:a.data.updateIn([0,"fr",t[0],"content",t[1],"content",t[3],"response"],function(t){return e})}})}},{key:"detecteChange",value:function(e){this.setState({change:e})}},{key:"handleSubmit",value:function(e){console.log(this.state.data.toJS())}},{key:"handleCancel",value:function(){this.setState({data:q.a.fromJS(this.props.dataFAQ)})}},{key:"componentWillMount",value:function(){console.log(this.state.data.length),0===this.state.data.length?this.setState({data:q.a.fromJS(this.props.dataFAQ)}):console.log("erreur")}},{key:"componentDidUpdate",value:function(){this.state.data.equals(q.a.fromJS(this.props.dataFAQ))?this.state.change&&this.detecteChange(!1):this.state.change||this.detecteChange(!0)}},{key:"initData",value:function(){this.setState(function(e){return{data:e.data.updateIn([0,"fr"],function(e){return e.push(q.a.fromJS({content:[{nameSubTopic:"",content:[{namequestion:"",question:"",response:""}]}],icon:"",idTopic:"",nameTopic:"TopicName"}))})}})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"wrapper"},0===this.state.data.toJS()[0].fr.length?d.a.createElement("div",{className:"ajout"}," Vous n'avez aucune donn\xe9es, en ajouter une ? ",d.a.createElement(j.a,{onClick:function(){e.initData()}},d.a.createElement(x.a,null))):d.a.createElement("div",{id:"mainWrapper"},d.a.createElement(J,{topics:this.state.data.toJS()[0][this.state.lang],selectedTopic:this.state.selectedTopic,handleChangeTabTopic:this.handleChangeTabTopic,addField:this.addField}),d.a.createElement(w,{handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,topics:this.state.data.toJS()[0][this.state.lang],selectedTopic:this.state.selectedTopic,removeField:this.removeField,handleChangeTabTopic:this.handleChangeTabTopic,handleChange:this.handleChange,addField:this.addField},d.a.createElement(A,{handleChange:this.handleChange,selectedTopic:this.state.selectedTopic,addField:this.addField,removeField:this.removeField},d.a.createElement(M,{handleChange:this.handleChange,addField:this.addField,removeField:this.removeField}))),d.a.createElement("div",{id:"buttonWrapper"},d.a.createElement(j.a,{className:"submitJson",color:"primary",size:"small",variant:"outlined",onClick:function(t){e.handleSubmit(t)}}," Valider "),this.state.change&&d.a.createElement("div",{id:"cancel"},d.a.createElement(j.a,{className:"reinitJson",color:"secondary",size:"small",variant:"outlined",onClick:function(t){e.handleCancel()}}," Annuler "),d.a.createElement("p",{id:"warningChange"},"Des Changements sont en cours")))))}}]),t}(d.a.Component),W=a(76),D=a.n(W),Q=a(178),H=a(77),B=a(172),V=a(171),P=Object(H.a)({palette:{primary:{main:"#5cb7d8"},secondary:V.a},background:"#5cb7d8"}),R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleHamMenu=a.handleHamMenu.bind(Object(o.a)(a)),a.handleCloseMenu=a.handleCloseMenu.bind(Object(o.a)(a)),a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"handleHamMenu",value:function(e){e.target.previousSibling.style.right="0%"}},{key:"handleCloseMenu",value:function(e){e.target.parentElement.style.right="-45%"}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"header"},d.a.createElement("div",{className:"headWrapper"},d.a.createElement("a",{className:"logo",href:"/"},d.a.createElement("h1",null,d.a.createElement("img",{src:D.a,alt:"Phileas"}))),d.a.createElement("div",{className:"rightSection"},d.a.createElement("a",{className:"explore",href:"/"},"Explorer"),d.a.createElement("div",{className:"closeMenu",onClick:function(t){e.handleCloseMenu(t)}})),d.a.createElement("div",{className:"hamButton",onClick:function(t){e.handleHamMenu(t)}})))}}]),t}(d.a.Component);h.a.render(d.a.createElement(B.a,{theme:P},d.a.createElement(Q.a,null),d.a.createElement(R,null),d.a.createElement(z,{dataFAQ:window.props.dataFaq})),document.getElementById("root"))},76:function(e,t,a){e.exports=a.p+"static/media/icon.831c46b9.png"},80:function(e,t,a){e.exports=a(124)},85:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.3f187646.chunk.js.map