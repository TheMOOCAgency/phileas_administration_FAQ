(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,a,t){},128:function(e,a,t){"use strict";t.r(a);var n=t(34),i=t(35),c=t(45),l=t(36),o=t(17),r=t(46),s=t(0),d=t.n(s),u=t(9),h=t.n(u),m=(t(88),t(81)),p=t(180),f=t(167),b=t(71),g=t.n(b),E=t(170),v=t(171),C=t(172),T=t(181),S=t(173),k=t(174),y=t(175),F=t(55),N=t.n(F),j=t(178),O=t(169),I=t(131),q=t(76),x=t.n(q),J=t(21),w=(t(111),t(80)),z=t(73),A=t.n(z);t(112),t(113),t(114),t(116),t(118),t(66),t(121);function W(e){var a=e.topics,t=(a=a.slice(0,4)).map(function(e,a){return d.a.createElement(f.a,{key:e.nameTopic+a,label:e.nameTopic,value:a})});return d.a.createElement("div",{id:"tabsWrapper"},d.a.createElement(p.a,{id:"tabsElementWrapper",value:e.selectedTopic,indicatorColor:"primary",onChange:e.handleChangeTabTopic,variant:"fullWidth"},t),e.topics.length<4&&d.a.createElement(O.a,{id:"addTopicButton",color:"primary",size:"small",variant:"contained",onClick:function(a){e.addField("topic",a)}}," ",d.a.createElement(A.a,null)," "))}function M(e){var a=d.a.useState(!1),t=Object(m.a)(a,2),n=(t[0],t[1]),i=e.topics;i=i.slice(0,4);var c=function(){n(!0)},l=i.map(function(a,t){return d.a.createElement("div",{className:"tabTopic",key:a+t},d.a.createElement(E.a,{className:"topicInput"},d.a.createElement(v.a,null,d.a.createElement("center",null,d.a.createElement("h4",null,a.nameTopic))),d.a.createElement(C.a,null,d.a.createElement("div",{className:"TopicName"},d.a.createElement("div",{className:"inputTopicWrapper"},d.a.createElement(j.a,{className:"inputTopic",label:"Nom",onChange:function(a){e.handleChange(a.target.value,[t,"topic","name"])},value:a.nameTopic}),d.a.createElement(j.a,{className:"inputTopic",label:"ic\xf4ne",onChange:function(a){e.handleChange(a.target.value,[t,"topic","icon"])},value:a.icon},d.a.createElement(I.a,{edge:"end","aria-label":"Toggle Image",onClick:c},d.a.createElement(x.a,{size:"small"})))),d.a.createElement("div",null,d.a.createElement(O.a,{color:"primary",onClick:function(a){e.addField("subTopic",t)},size:"small"},"Ajouter un sous-topic "),d.a.createElement(O.a,{color:"secondary",onClick:function(a){e.removeField("topic",t)},size:"small"},"Supprimer"))))),d.a.createElement("div",{className:"topicContent"},d.a.cloneElement(e.children,{topics:i[t],idx:t})),d.a.createElement("div",{id:"buttonWrapper"},d.a.createElement(O.a,{className:"submitJson",color:"primary",size:"small",variant:"outlined",onClick:function(a){e.handleSubmit(a)}}," Valider "),1==e.change&&d.a.createElement("div",{id:"cancel"},d.a.createElement(O.a,{className:"reinitJson",color:"secondary",size:"small",variant:"outlined",onClick:function(a){e.handleCancel(a)}}," Annuler "),d.a.createElement("p",{id:"warningChange"},"Des Changements sont en cours"))))});return d.a.createElement(g.a,{axis:"x",index:e.selectedTopic,onChangeIndex:e.handleChangeTabTopic},l)}function Q(e){var a=e.topics.content.map(function(a,t){return d.a.createElement(T.a,{key:t},d.a.createElement(S.a,{className:"sousTopic",expandIcon:d.a.createElement(N.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},d.a.createElement("h3",null,a.nameSubTopic)),d.a.createElement(k.a,{className:"subTopicFields"},d.a.createElement(j.a,{label:"Nom du sous-topic",onChange:function(a){e.handleChange(a.target.value,[e.idx,"subtopic",t])},fullWidth:!0,rows:"12",value:a.nameSubTopic}),d.a.cloneElement(e.children,{data:a.content,topic:e.idx,subTopic:t})),d.a.createElement(y.a,null,d.a.createElement(O.a,{color:"primary",onClick:function(a){e.addField("question",e.idx,t)},size:"small"},"Ajouter une question "),d.a.createElement(O.a,{color:"secondary",onClick:function(a){e.removeField("subTopic",e.idx,t)},size:"small"},"Supprimer")))});return d.a.createElement("div",null,a)}function D(e){var a=e.data.map(function(a,t){return d.a.createElement(T.a,{key:t},d.a.createElement(S.a,{expandIcon:d.a.createElement(N.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},d.a.createElement("h4",null,a.question)),d.a.createElement(k.a,{className:"qAndAFields"},d.a.createElement(j.a,{label:"Question",fullWidth:!0,rows:"12",value:a.question,onChange:function(a){e.handleChange(a.target.value,[e.topic,e.subTopic,"question",t])}}),d.a.createElement("p",null,"R\xe9ponse:"),d.a.createElement(w.a,{inline:!0,className:"tiny",init:{plugins:"link image code"},initialValue:a.response,onChange:function(a){e.handleChange(a.level.content,[e.topic,e.subTopic,"response",t])}})),d.a.createElement(y.a,null,d.a.createElement(O.a,{color:"secondary",onClick:function(a){e.removeField("question",e.topic,e.subTopic,t)},size:"small"},"Supprimer")))});return d.a.createElement("div",{className:"qAndAWrappers"},a)}var B=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(l.a)(a).call(this,e))).handleChangeSubtopic=function(e){return function(e,a){return!!a}},t.state={lang:"fr",selectedTopic:0,expanded:!1,data:[],change:!1},t.handleChangeTabTopic=t.handleChangeTabTopic.bind(Object(o.a)(t)),t.handleChangeSubtopic=t.handleChangeSubtopic.bind(Object(o.a)(t)),t.handleChange=t.handleChange.bind(Object(o.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(o.a)(t)),t.handleCancel=t.handleCancel.bind(Object(o.a)(t)),t.addField=t.addField.bind(Object(o.a)(t)),t.removeField=t.removeField.bind(Object(o.a)(t)),t.initData=t.initData.bind(Object(o.a)(t)),t}return Object(r.a)(a,e),Object(i.a)(a,[{key:"handleChangeTabTopic",value:function(e,a){this.setState({selectedTopic:a})}},{key:"addField",value:function(e,a,t){"topic"===e&&this.setState(function(e){return{data:e.data.updateIn([0,"fr"],function(e){return e.push(J.a.fromJS({content:[],icon:"",idTopic:"",nameTopic:"TopicName"}))})}}),"subTopic"===e&&this.setState(function(e){return{data:e.data.updateIn([0,"fr",a,"content"],function(e){return e.push(J.a.fromJS({nameSubTopic:"SubTopicName",content:[]}))})}}),"question"===e&&this.setState(function(e){return{data:e.data.updateIn([0,"fr",a,"content",t,"content"],function(e){return e.push(J.a.fromJS({namequestion:"Question",question:"Question",response:""}))})}})}},{key:"removeField",value:function(e,a,t,n){"topic"===e&&(this.state.selectedTopic>this.state.data.toJS()[0][this.state.lang].length-2?this.setState(function(e){var t=e.data;return{selectedTopic:a>0?a-1:0,data:t.deleteIn([0,"fr",a])}}):this.setState(function(e){return{data:e.data.deleteIn([0,"fr",a])}})),"subTopic"===e&&this.setState(function(e){return{data:e.data.deleteIn([0,"fr",a,"content",t])}}),"question"===e&&this.setState(function(e){return{data:e.data.deleteIn([0,"fr",a,"content",t,"content",n])}})}},{key:"handleChange",value:function(e,a){"topic"===a[1]?"name"===a[2]?this.setState(function(t){return{data:t.data.updateIn([0,"fr",a[0],"nameTopic"],function(a){return e})}}):"icon"===a[2]&&this.setState(function(t){return{data:t.data.updateIn([0,"fr",a[0],"icon"],function(a){return e})}}):"subtopic"===a[1]?this.setState(function(t){return{data:t.data.updateIn([0,"fr",a[0],"content",a[2],"nameSubTopic"],function(a){return e})}}):"question"===a[2]?this.setState(function(t){return{data:t.data.updateIn([0,"fr",a[0],"content",a[1],"content",a[3],"question"],function(a){return e})}}):"response"===a[2]&&this.setState(function(t){return{data:t.data.updateIn([0,"fr",a[0],"content",a[1],"content",a[3],"response"],function(a){return e})}})}},{key:"detecteChange",value:function(e){this.setState({change:e})}},{key:"handleSubmit",value:function(e){console.log(this.state.data.toJS())}},{key:"handleCancel",value:function(){this.setState({data:J.a.fromJS(this.props.dataFAQ)})}},{key:"componentWillMount",value:function(){0===this.state.data.length?this.setState({data:J.a.fromJS(this.props.dataFAQ)}):alert("Ereur lors de la r\xe9cup\xe9ration des donn\xe9es, veuillez contacter un administrateur !")}},{key:"componentDidUpdate",value:function(){this.state.data.equals(J.a.fromJS(this.props.dataFAQ))?this.state.change&&this.detecteChange(!1):this.state.change||this.detecteChange(!0)}},{key:"initData",value:function(){this.setState(function(e){return{data:e.data.updateIn([0,"fr"],function(e){return e.push(J.a.fromJS({content:[],icon:"",idTopic:"",nameTopic:"TopicName"}))})}})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"wrapper"},0===this.state.data.toJS()[0].fr.length?d.a.createElement("div",{className:"noTopic"}," Vous n'avez aucun topic ",d.a.createElement(O.a,{id:"initTopicButton",color:"primary",variant:"contained",onClick:function(){e.initData()}},"Cr\xe9er un topic")):d.a.createElement("div",{id:"mainWrapper"},d.a.createElement(W,{topics:this.state.data.toJS()[0][this.state.lang],selectedTopic:this.state.selectedTopic,handleChangeTabTopic:this.handleChangeTabTopic,addField:this.addField}),d.a.createElement(M,{change:this.state.change,handleSubmit:this.handleSubmit,handleCancel:this.handleCancel,topics:this.state.data.toJS()[0][this.state.lang],selectedTopic:this.state.selectedTopic,removeField:this.removeField,handleChangeTabTopic:this.handleChangeTabTopic,handleChange:this.handleChange,addField:this.addField},d.a.createElement(Q,{handleChange:this.handleChange,selectedTopic:this.state.selectedTopic,addField:this.addField,removeField:this.removeField},d.a.createElement(D,{handleChange:this.handleChange,addField:this.addField,removeField:this.removeField})))))}}]),a}(d.a.Component),H=t(78),V=t.n(H),P=t(182),R=t(79),U=t(177),G=t(176),K=Object(R.a)({palette:{primary:{main:"#5cb7d8"},secondary:G.a},background:"#5cb7d8"}),L=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(l.a)(a).call(this,e))).handleHamMenu=t.handleHamMenu.bind(Object(o.a)(t)),t.handleCloseMenu=t.handleCloseMenu.bind(Object(o.a)(t)),t}return Object(r.a)(a,e),Object(i.a)(a,[{key:"handleHamMenu",value:function(e){e.target.previousSibling.style.right="0%"}},{key:"handleCloseMenu",value:function(e){e.target.parentElement.style.right="-45%"}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"header"},d.a.createElement("div",{className:"headWrapper"},d.a.createElement("a",{className:"logo",href:"/"},d.a.createElement("h1",null,d.a.createElement("img",{src:V.a,alt:"Phileas"}))),d.a.createElement("div",{className:"rightSection"},d.a.createElement("a",{className:"explore",href:"/"},"Explorer"),d.a.createElement("div",{className:"closeMenu",onClick:function(a){e.handleCloseMenu(a)}})),d.a.createElement("div",{className:"hamButton",onClick:function(a){e.handleHamMenu(a)}})))}}]),a}(d.a.Component);h.a.render(d.a.createElement(U.a,{theme:K},d.a.createElement(P.a,null),d.a.createElement(L,null),d.a.createElement(B,{dataFAQ:window.props.dataFaq})),document.getElementById("root"))},78:function(e,a,t){e.exports=t.p+"static/media/icon.831c46b9.png"},83:function(e,a,t){e.exports=t(128)},88:function(e,a,t){}},[[83,1,2]]]);
//# sourceMappingURL=main.5406e673.chunk.js.map